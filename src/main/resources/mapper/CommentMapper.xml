<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shsoftvina.erpshsoftvina.mapper.CommentNotificationMapper">
    <insert id="createCommentNotification" parameterType="com.shsoftvina.erpshsoftvina.entity.CommentNotification">
        INSERT
        INTO comment_notification (created_date, content, id, notification_id, user_id)
        VALUES (NOW(), #{content}, #{id},#{notification.id}, #{user.id});
    </insert>

<!--    <select id="getCommentsByNotificationId" parameterType="java.lang.String" resultMap="commentResultMap">-->
<!--        SELECT c.*, u.*, n.*-->
<!--        FROM comment_notification c-->
<!--                 INNER JOIN user u ON c.user_id = u.id-->
<!--                 INNER JOIN notification n ON c.notification_id = n.id-->
<!--        WHERE c.notification_id = #{notificationId}-->
<!--    </select>-->


    <resultMap id="commentNotificationResultMap" type="com.shsoftvina.erpshsoftvina.entity.CommentNotification">
        <id property="id" column="id"/>
        <result property="createdDate" column="created_date"/>
        <result property="content" column="content"/>
<!--        <association  property="user" javaType="com.shsoftvina.erpshsoftvina.entity.User" resultMap="userResultMap">-->
<!--        </association >-->
<!--        <association  property="notification" javaType="com.shsoftvina.erpshsoftvina.entity.Notification"   resultMap="notificationResultMap">-->
<!--        </association >-->
    </resultMap>

<!--    <resultMap id="userResultMap" type="com.shsoftvina.erpshsoftvina.entity.User">-->
<!--        <id property="id" column="user_id" />-->
<!--        <result property="username" column="username" />-->
<!--        <result property="fullname" column="fullname" />-->
<!--    </resultMap>-->

<!--    <resultMap id="notificationResultMap" type="com.shsoftvina.erpshsoftvina.entity.Notification">-->
<!--        <id property="id" column="notification_id" />-->
<!--        <result property="title" column="title" />-->
<!--        <result property="commentContent" column="content" />-->
<!--        <result property="file" column="file" />-->
<!--        <result property="createDate" column="created_date" />-->
<!--    </resultMap>-->
</mapper>
